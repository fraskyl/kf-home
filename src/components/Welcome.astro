---
import { client } from '../lib/sanity'
import type { HomepageContent } from '../lib/sanity'

// Fetch homepage content from Sanity
const content = await client.fetch<HomepageContent>(`
  *[_type == "homepage"][0] {
    introText,
    currentEmployer,
    employerUrl
  }
`)

// Fallback content if Sanity isn't set up yet
const introText = content?.introText || "Kyle Fraser is a graphic designer and illustrator based in Glasgow, Scotland."
const employer = content?.currentEmployer || "VisitScotland"
const employerUrl = content?.employerUrl || "https://www.visitscotland.com"
---

<main id="container" class="grid">
			<div class="profile">
			<h1>
				{introText} 
				<a href={employerUrl}>{employer}</a>.
			</h1>
		</div>
</main>

<style>
	#background {
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		z-index: -1;
		filter: blur(100px);
	}

	#container {
		font-family: Inter, Roboto, 'Helvetica Neue', 'Arial Nova', 'Nimbus Sans', Arial, sans-serif;
		height: 100%;
	}

.grid {
display: grid;
grid-template-columns: repeat(12, 1fr);
grid-template-rows: repeat(5, 1fr);
grid-column-gap: 20px;
grid-row-gap: 0px;
}

		.profile {
	grid-area: 2 / 7 / 4 / 12; 
	}



	main {
		height: 100%;
	}

	h1 {
		font-size: 1.4rem;
		font-weight: 400;
		line-height: 2rem;
	}


	h2 {
		margin: 0 0 1em;
		font-weight: normal;
		color: #111827;
		font-size: 20px;
	}

	p {
		color: #4b5563;
		font-size: 16px;
		line-height: 24px;
		letter-spacing: -0.006em;
		margin: 0;
	}
	a {
		text-decoration: underline;
		color: inherit;
	}

	a:hover {
		color:blue;
	}


	@media screen and (max-width: 368px) {
	.profile {
		grid-column: 2 / 12;
		}
	}

	@media screen and (max-width: 768px) {
		.profile {
		grid-column: 2 / 12;
		}

	#container {
		h1 {
			font-size: 1.2rem;
			line-height: 1.5;
		}
	}
</style>
